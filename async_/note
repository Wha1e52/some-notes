Впрочем, даже этот тривиальный пример убеждает в необходимости хорошего
понимания модели памяти, чтобы вы знали, какие операции безопасны, а какие –
нет. Скажем, существует распространенное заблуждение по поводу атомарности
оператора ++ (в префиксной или постфиксной форме), тогда как этот оператор
атомарным не является. Следовательно, вы должны знать:
- где присутствуют общие объекты/значения;
- какой код может создать проблемы многопоточного чтения/обновления;
- как защититься от возможных проблем многопоточности.